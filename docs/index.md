# How to Generate a Refresh Token for eBay

Refresh tokens are used to generate eBay user tokens. User tokens are required for every eBay API call that returns account specific information from eBay. A user token has a life span of about two hours. To avoid forcing your user to log into eBay every time their user token expires, your application instead can store a refresh token. Refresh tokens last about 18 months. The user logs into eBay one time to associate their eBay account with your application. This gives your application permission to act on their behalf. The permission lasts for the lifetime of the refresh token or until the user revokes permission.

To generate a refresh token you need a base64 authorization code and an eBay user willing to give you their login credentials. The steps below would normally be automated by your application. However, since your application probably does not exist yet, I will explain as if you were performing the steps manually.

1. Log into the eBay developer program site and navigate to [Auth Tokens for eBay](https://developer.ebay.com/my/auth?env=production&index=0). Select the desired environment, sandbox or production.
2. Expand *Get a Token from eBay via Your Application*. Find the supplied link for *Your branded eBay Production Sign In (OAuth)* and copy it into your web browser. You can instead use the *Test Sign-In* button at the bottom of the page (Just make sure to select 0Auth radio button).
3. Sign in to eBay using your user's credentials. If you do not see a login page, you are already signed into a user's account. If it's not the user you want, navigate to eBay.com and sign out. After you are signed in as the desired user, you will see a page with an *I agree* button on it. Click the button, then copy the web address of the resulting acknowlegement page. (When you automate this step, know that there is a switch you can add to the url to force a login regardless of current eBay login status.)
4. The web address contains a code that expires in 299 seconds. Copy that code. The address should resemble: https://signin.ebay.com/ws/eBayISAPI.dll?ThirdPartyAuthSucessFailure&isAuthSuccessful=true&code=v%5E1.1%23i%5E1%23I%5E3%23f%5E0%23r%5E1%23p%5E3%23t%5EUl41XzQ6QUMyNjU5RkVEQUFDNTg2NTBBNUU1ODMxMUU3QTRGNjNfMl8xI0VeMjYw&expires_in=299. For above url, the urlencoded code is: v%5E1.1%23i%5E1%23I%5E3%23f%5E0%23r%5E1%23p%5E3%23t%5EUl41XzQ6QUMyNjU5RkVEQUFDNTg2NTBBNUU1ODMxMUU3QTRGNjNfMl8xI0VeMjYw.
v^1.1%23i^1%23I^3%23f^0%23r^1%23p^3%23t^Ul41XzQ6QUMyNjU5RkVEQUFDNTg2NTBBNUU1ODMxMUU3QTRGNjNfMl8xI0VeMjYw
5. You need to use this code within five minutes to generate your refresh token.